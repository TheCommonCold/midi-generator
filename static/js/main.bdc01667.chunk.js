(this["webpackJsonpmidi-generator"]=this["webpackJsonpmidi-generator"]||[]).push([[0],{28:function(t,e,n){},43:function(t,e,n){},45:function(t,e,n){"use strict";n.r(e);var r=n(5),o=n(2),c=n.n(o),s=n(16),a=n.n(s),i=(n(28),n(3)),u=n(46),h=n(47),l=n(48),d=n(50),j=n(13),p=new j.b(.2).toDestination(),f=new j.a({frequency:1e3,type:"lowpass",rolloff:-12,Q:0}).connect(p),m=new j.c(j.d,{oscillator:{count:2,spread:5,type:"sawtooth"},envelope:{attack:.002,decay:0,sustain:1,release:.1}}).connect(f),v=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function g(t,e){for(var n=e,r=0,o=function(e){setTimeout((function(){!function(t,e){var n=j.e(),r=(o=t,o.map((function(t){var e=Math.floor(t/12);return v[t%12]+e.toString()})));var o;m.triggerAttack(r,n),m.releaseAll(n+e)}(t[e],n[e])}),1e3*r),r+=n[e]},c=0;c<n.length;c++)o(c)}var b=function(t){for(var e=Object(o.useState)(t.progression.score),n=Object(i.a)(e,2),c=n[0],s=n[1],a=[],j=0,p=0;p<t.progression.notes.rythm.length;p++)j+=t.progression.notes.rythm[p];for(var f=0;f<t.progression.notes.chords.length;f++){for(var m=t.progression.notes.chords[f],v=[],b=12;b<72;b++)m.includes(b)?v.push(Object(r.jsx)("div",{style:{height:(1/60*100).toString()+"%",width:"100%","background-color":"red"}})):v.push(Object(r.jsx)("div",{style:{height:(1/60*100).toString()+"%",width:"100%"}}));a.push(Object(r.jsx)("div",{style:{height:"100%",width:(t.progression.notes.rythm[f]/j*100).toString()+"%"},children:v.reverse()}))}return Object(r.jsxs)(u.a,{className:"p-0",children:[Object(r.jsxs)(h.a,{className:"w-100 m-0",style:{height:"200px"},children:[Object(r.jsx)("div",{className:"vote up",onClick:function(){s(c+1)},children:Object(r.jsx)("div",{className:"vote-text",children:"\ud83e\udc45"})}),Object(r.jsx)("div",{className:"vote down",onClick:function(){s(c-1)},children:Object(r.jsx)("div",{className:"vote-text",children:"\ud83e\udc47"})}),a]}),Object(r.jsxs)(h.a,{children:[Object(r.jsx)(l.a,{children:Object(r.jsx)(d.a,{className:"w-100 p-0",onClick:function(){g(t.progression.notes.chords,t.progression.notes.rythm)},children:"Play"})}),Object(r.jsx)(l.a,{sm:1,children:c})]})]})},O=n(15),x=[.5,3/4,1,1.5,2,3,4];var y="major",w="minor",M={major:{notes:[0,2,4,5,7,9,11],mode:[y,w,w,y,y,w,w]}},C={major:[0,4,7,2,11,6,9,1,8,3,10,5],minor:[0,3,7,2,10,5,9,4,11,6,8,1]};function k(){for(var t=[],e=function(t){for(var e=0,n=[];e<t;){var r=0,o=Math.floor(Math.random()*x.length);if(e+x[o]-r>t)return e+=r=t-e,n.push(r),n;e+=x[o]-r,n.push(x[o]-r)}return n}(8),n=0;n<e.length;n++)t.push(N(0,"major",3,5));var r=Math.floor(12*Math.random());return{chords:t=t.map((function(t){return t.map((function(t){return t+r}))})),rythm:e}}function N(t,e,n,r){var o=M[e],c=Math.floor(Math.random()*o.notes.length),s=o.mode[c],a=o.notes[c],i=function(t,e,n,r){for(var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5,c=[],s=0;s<n;s++){var a=Math.floor(Math.random()*o),i=C[e][a];i+=t,!c.includes(i)&&r.includes(i%12)?(Math.random()<a/24&&(i+=12),c.push(i)):s--}return c}(a,s,n,o.notes,r).map((function(e){return e+36+12*t}));return Math.random()-1/4>a/12&&(a+=12),i.push(a+12),i}var S="ADD_SPECIMAN";var A=function(t){var e=Object(O.b)();(function(t){for(var e=[],n=0;n<t;n++)e.push({notes:k(),score:0});return e})(16).map((function(t){return e({type:S,payload:{speciman:t}})}));var n=function(t){for(var e=[];t.length;)e.push(t.splice(0,4));return e}(Object(O.c)((function(t){return t.population})));return Object(r.jsxs)(u.a,{children:[n.map((function(t){return Object(r.jsx)(h.a,{children:t.map((function(t){return Object(r.jsx)(l.a,{children:Object(r.jsx)(b,{progression:t})})}))})})),Object(r.jsx)(h.a,{})]})},D=(n(43),n(49));var F=function(){return Object(r.jsx)(D.a,{children:Object(r.jsx)(A,{})})},P=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,51)).then((function(e){var n=e.getCLS,r=e.getFID,o=e.getFCP,c=e.getLCP,s=e.getTTFB;n(t),r(t),o(t),c(t),s(t)}))},B=(n(44),n(12)),E=n(4),I=[],T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case S:return[].concat(Object(E.a)(t),[e.payload.speciman]);default:return t}},G=Object(B.b)({population:T}),J=Object(B.c)(G);a.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(O.a,{store:J,children:Object(r.jsx)(F,{})})}),document.getElementById("root")),P()}},[[45,1,2]]]);
//# sourceMappingURL=main.bdc01667.chunk.js.map